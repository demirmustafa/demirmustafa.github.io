<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Docker Machine</title>

    <!-- Bootstrap Core CSS -->
    <link href="https://demirmustafa.github.io/css/bootstrap.min.css" rel="stylesheet">

    <!-- Theme CSS -->
    <link href="https://demirmustafa.github.io/css/clean-blog.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link rel="stylesheet" type="text/css" href="https://demirmustafa.github.io/font-awesome-4.7.0/css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    Menu <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand" href="https://demirmustafa.github.io/index.html">Home Page</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="https://demirmustafa.github.io/index.html">Home</a>
                    </li>
                    <li>
                        <a href="https://demirmustafa.github.io/about.html">About</a>
                    </li>
                    <li>
                        <a href="https://demirmustafa.github.io/pages/docker/docker-yazilari.html">Docker</a>
                    </li>
                    <li>
                        <a href="https://demirmustafa.github.io/pages/spring/spring-videolari.html">Spring Framework</a>
                    </li>
                    <li>
                        <a href="https://demirmustafa.github.io/contact.html">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="intro-header" style="background-image: url('https://demirmustafa.github.io/img/docker-image.png')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Docker Machine</h1>
                        <h2 class="subheading">Quick Intro About Docker Machine</h2>
                        <span class="meta">Posted by <a href="about.html">Mustafa Demir</a> on November 19, 2016</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                  
                    <h3>Docker Machine</h3>
                    
                  		<p>Docker Machine, docker hostları oluşturmamıza olanak sağlayan bir araçtır.<br>
Bu araç ile “docker-machine” komutunu kullanarak bulut hizmeti sağalayıcıları üzerinde ya da kendi bilgisayarımızda sanal makina oluşturmak suretiyle hostlar oluşturabiliyoruz ve oluşturulan bu host içerisinde konteynır yönetimi için gerekli olan docker-engine kurulu olarak geliyor.</p>
<p>Docker Machine ile host kurulumunda bir driver belirtmek zorunludur. Ve driver listesi şu şekilde</p>
<p>Amazon Web Services<br>
Microsoft Azure<br>
Digital Ocean<br>
Exoscale<br>
Google Compute Engine<br>
Generic<br>
Microsoft Hyper-V<br>
OpenStack<br>
Rackspace<br>
IBM Softlayer<br>
Oracle VirtualBox<br>
VMware vCloud Air<br>
VMware Fusion<br>
VMware vSphere</p>
<p>Ayrıca docker-machine komutu ile host oluşturulduğu takdirde yine bu komut ile hostu yönetme olanağı da bize tanınıyor. “docker-machine” komutunun ardından:</p>
<p><strong>ls</strong>: docker hostlarını listeler<br>
<strong>start</strong>: kendisinden sonra gelecek olan host adı ile o hostu çalıştırır<br>
<strong>stop</strong>: kendisinden sonra gelecek olan host adı ile o hostu durdurur.<br>
<strong>restart</strong>: kendisinden sonra gelen isme sahip olan hostu yeniden başlatır.<br>
<strong>inspect</strong>: kendisinden sonra gelen hosta ait bilgiler görüntülenebilir. Bu komutun yanı sıra grep gibi linux komutları da kullanılarak özel br bilgiye doğrudan ulaşılabilir. Ancak inspect komutunun çalışması için hostun çalışır durumda olması gerekir.</p>
<p>&nbsp;</p>
<p>Örnek olarak ben Microsoft Azure üzerinde bir host oluşturacağım. Bunun için kullanacağım komut şu şekilde olacak:</p>
<p><em><strong>docker-machine create –driver azure azure-subscription-id “your_azure_subscription_id” “machine_name”</strong></em></p>
<p>Ben “dev” adında bir makine oluşturuyorum. Eğer azure_subscription_id değeri doğru girilmiş ise terminalde bize bir doğrulama kodu oluşturulacak ve bu kodu yine terminalde belirtilen linke giderek &nbsp;doğrulama işlemini gerçekleştirmemiz gerekecek.</p>
<p>&nbsp;</p>
<p>Doğrulama işleminin ardından dev adında bir makinemiz içerisinde docker kurulu bir şekilde oluşturulacak.<br>
Host makine varsayılan olarak Ubuntu 16.04 2.4 GHz Xeon CPU ve 3 GB RAM ile geliyor.</p>

<p><img class="alignleft wp-image-243 size-full" src="https://demirmustafa.github.io/img/creating-docker-machine.png"  width="729" height="64"  sizes="(max-width: 729px) 100vw, 729px"></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Şimdi <strong><em>docker-machine ls</em></strong> komutu ile hostlarımızı listeleyelim.</p>

<p><img class="alignleft wp-image-243 size-full" src="https://demirmustafa.github.io/img/s1.png"  width="729" height="64"  sizes="(max-width: 729px) 100vw, 729px"></p>
<p>&nbsp;</p>
<p>&nbsp;</p>

<p>Görüldüğü üzere Driver kısmı “azure” olarak belirtilmiş “dev” adında bir hostumuz var.Bu makinanın oluşturulduğunu azure portaldan teyit edebiliriz.</p>
<p><img class="alignleft wp-image-243 size-full" src="https://demirmustafa.github.io/img/s2.png"  width="800" height="300"  sizes="(max-width: 729px) 100vw, 729px"></p>

<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Görüldüğü üzere makina oluşturulmuş. Makina detaylarını ve yönetim işlemini bu portaldan yapabilirsiniz.</p>
<p>Host oluşturulduğunda bize zaten çalışır halde sunulacak. Ancak çalışmıyor ise;</p>
<p><em><strong>docker-machine start dev</strong></em></p>
<p>komutu ile makinamızı çalıştırabiliriz. Makinanın çalıştırılması &nbsp;ve ip atanmasının ardından artık bu makina kullanımımıza hazır hale geldi. Ve şimdi yapmamız gerek makinaya ssh bağlantısı yapmak. Bunu ise klasik yöntemle ip ve port belirterek yapmayacağız. Çünkü Docker Machine zaten makinamızın gerekli değerlerini biliyor ve bu işi bizim için kolaylaştırıyor.</p>
<p>docker-machine ssh dev</p>
<p>komutu ile uzak makinamıza bağlanıyoruz. Ve Docker kurulumunun yapıldığını teyit amaçlı docker –version komutunu çalıştırıyoruz.&nbsp;Sonuç resimde görüldüğü gibi;</p>

<p><img class="alignleft wp-image-243 size-full" src="https://demirmustafa.github.io/img/docker-machine.png"  width="400" height="400"  sizes="(max-width: 400px) 100vw, 400px"></p>

<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>SSH ile bize açılan pencere sıradan bir linux terminalidir. Tek farkı local makineye değil uzaktaki bir makineye/sunucuya ait bir ekrandır. Ve o makinayı kontrol eder. Yani bu uzak makina üzerinde docker imajları &nbsp;oluşturabilir, konteynır oluşturabilir &nbsp;ve çalıştırabilirsiniz. Bu tamamen yapabildiklerinize/yetkinliğinize bağlıdır. Tabi bir de ücretsiz azure hesabının süresinin dolmasına
                        
                    
                    
              
                </div>
            </div>
        </div>
    </article>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

                
                    <ul class="list-inline text-center">
                        <li>
                            <a href="https://www.facebook.com/wora94" title="Facebook">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://twitter.com/javalog_org" title="Twitter">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://github.com/demirmustafa/" title="GitHub">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://tr.linkedin.com/in/mustafa-demir-1634b294" title="LinkedIn">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>

                        <li>
                            <a href="https://www.youtube.com/channel/UC2J5Vhpe7_x_t-KFIwlVaLA" title="YouTube">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-youtube-play fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>

                        <li>
                            <a href="mailto:g.demirmustafa@gmail.com" title="Email">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-send fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        
                    </ul>
                    <p class="copyright text-muted">Copyright &copy; Your Website 2016</p>
                </div>
                
            

            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="https://demirmustafa.github.io/js/jquery-3.1.1.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="https://demirmustafa.github.io/js/bootstrap.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="https://demirmustafa.github.io/js/jqBootstrapValidation.js"></script>
    <script src="https://demirmustafa.github.io/js/contact_me.js"></script>

    <!-- Theme JavaScript -->
    <script src="https://demirmustafa.github.io/js/clean-blog.min.js"></script>

</body>

</html>

